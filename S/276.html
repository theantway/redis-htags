<html>
<head>
<title>deps/lua/src/lmathlib.c</title>
<meta name='robots' content='noindex,nofollow'>
<meta name='generator' content='GLOBAL-5.7.1'>
</head>
<body text='#191970' bgcolor='#f5f5dc' vlink='gray'>
<a name='TOP'><h2><a href='../mains.html'>root</a>/<a href='../files/387.html'>deps</a>/<a href='../files/398.html'>lua</a>/<a href='../files/400.html'>src</a>/lmathlib.c</h2>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L26'>[^]</a><a href='#L251'>[v]</a>[top]<a href='#BOTTOM'>[bottom]</a><a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
<hr>
<h2>DEFINITIONS</h2>
This source file includes following definitions.
<ol>
<li><a href='#L26' title='Defined at 26.'>math_abs</a>
<li><a href='#L31' title='Defined at 31.'>math_sin</a>
<li><a href='#L36' title='Defined at 36.'>math_sinh</a>
<li><a href='#L41' title='Defined at 41.'>math_cos</a>
<li><a href='#L46' title='Defined at 46.'>math_cosh</a>
<li><a href='#L51' title='Defined at 51.'>math_tan</a>
<li><a href='#L56' title='Defined at 56.'>math_tanh</a>
<li><a href='#L61' title='Defined at 61.'>math_asin</a>
<li><a href='#L66' title='Defined at 66.'>math_acos</a>
<li><a href='#L71' title='Defined at 71.'>math_atan</a>
<li><a href='#L76' title='Defined at 76.'>math_atan2</a>
<li><a href='#L81' title='Defined at 81.'>math_ceil</a>
<li><a href='#L86' title='Defined at 86.'>math_floor</a>
<li><a href='#L91' title='Defined at 91.'>math_fmod</a>
<li><a href='#L96' title='Defined at 96.'>math_modf</a>
<li><a href='#L104' title='Defined at 104.'>math_sqrt</a>
<li><a href='#L109' title='Defined at 109.'>math_pow</a>
<li><a href='#L114' title='Defined at 114.'>math_log</a>
<li><a href='#L119' title='Defined at 119.'>math_log10</a>
<li><a href='#L124' title='Defined at 124.'>math_exp</a>
<li><a href='#L129' title='Defined at 129.'>math_deg</a>
<li><a href='#L134' title='Defined at 134.'>math_rad</a>
<li><a href='#L139' title='Defined at 139.'>math_frexp</a>
<li><a href='#L146' title='Defined at 146.'>math_ldexp</a>
<li><a href='#L153' title='Defined at 153.'>math_min</a>
<li><a href='#L167' title='Defined at 167.'>math_max</a>
<li><a href='#L181' title='Defined at 181.'>math_random</a>
<li><a href='#L209' title='Defined at 209.'>math_randomseed</a>
<li><a href='#L251' title='Defined at 251.'>luaopen_math</a>
</ol>
<hr>
<pre>
<a name='L1'><i><font color='green'>/*</font></i>
<a name='L2'><i><font color='green'>** $Id: lmathlib.c,v 1.67.1.1 2007/12/27 13:02:25 roberto Exp $</font></i>
<a name='L3'><i><font color='green'>** Standard mathematical library</font></i>
<a name='L4'><i><font color='green'>** See Copyright Notice in lua.h</font></i>
<a name='L5'><i><font color='green'>*/</font></i>
<a name='L6'>
<a name='L7'>
<a name='L8'><font color='darkred'>#include</font> &lt;stdlib.h&gt;
<a name='L9'><font color='darkred'>#include</font> &lt;math.h&gt;
<a name='L10'>
<a name='L11'><font color='darkred'>#define</font> lmathlib_c
<a name='L12'><font color='darkred'>#define</font> <a href='../S/317.html#L156' title='Refered from 156 in deps/lua/src/luaconf.h.'>LUA_LIB</a>
<a name='L13'>
<a name='L14'><font color='darkred'>#include</font> "<a href='266.html'>lua.h</a>"
<a name='L15'>
<a name='L16'><font color='darkred'>#include</font> "<a href='265.html'>lauxlib.h</a>"
<a name='L17'><font color='darkred'>#include</font> "<a href='267.html'>lualib.h</a>"
<a name='L18'>
<a name='L19'>
<a name='L20'><font color='darkred'>#undef</font> <a href='../R/555.html' title='Multiple refered from 2 places.'>PI</a>
<a name='L21'><font color='darkred'>#define</font> <a href='../R/555.html' title='Multiple refered from 2 places.'>PI</a> (3.14159265358979323846)
<a name='L22'><font color='darkred'>#define</font> <a href='../R/597.html' title='Multiple refered from 2 places.'>RADIANS_PER_DEGREE</a> (<a href='../D/607.html' title='Multiple defined in 2 places.'>PI</a>/180.0)
<a name='L23'>
<a name='L24'>
<a name='L25'>
<a name='L26'><b>static</b> <b>int</b> <a href='../S/276.html#L216' title='Refered from 216 in deps/lua/src/lmathlib.c.'>math_abs</a> (lua_State *L) <font color='red'>{</font>
<a name='L27'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, fabs(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L28'>  <b>return</b> 1;
<a name='L29'><font color='red'>}</font>
<a name='L30'>
<a name='L31'><b>static</b> <b>int</b> <a href='../S/276.html#L240' title='Refered from 240 in deps/lua/src/lmathlib.c.'>math_sin</a> (lua_State *L) <font color='red'>{</font>
<a name='L32'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, sin(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L33'>  <b>return</b> 1;
<a name='L34'><font color='red'>}</font>
<a name='L35'>
<a name='L36'><b>static</b> <b>int</b> <a href='../S/276.html#L239' title='Refered from 239 in deps/lua/src/lmathlib.c.'>math_sinh</a> (lua_State *L) <font color='red'>{</font>
<a name='L37'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, sinh(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L38'>  <b>return</b> 1;
<a name='L39'><font color='red'>}</font>
<a name='L40'>
<a name='L41'><b>static</b> <b>int</b> <a href='../S/276.html#L223' title='Refered from 223 in deps/lua/src/lmathlib.c.'>math_cos</a> (lua_State *L) <font color='red'>{</font>
<a name='L42'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, cos(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L43'>  <b>return</b> 1;
<a name='L44'><font color='red'>}</font>
<a name='L45'>
<a name='L46'><b>static</b> <b>int</b> <a href='../S/276.html#L222' title='Refered from 222 in deps/lua/src/lmathlib.c.'>math_cosh</a> (lua_State *L) <font color='red'>{</font>
<a name='L47'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, cosh(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L48'>  <b>return</b> 1;
<a name='L49'><font color='red'>}</font>
<a name='L50'>
<a name='L51'><b>static</b> <b>int</b> <a href='../S/276.html#L243' title='Refered from 243 in deps/lua/src/lmathlib.c.'>math_tan</a> (lua_State *L) <font color='red'>{</font>
<a name='L52'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, tan(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L53'>  <b>return</b> 1;
<a name='L54'><font color='red'>}</font>
<a name='L55'>
<a name='L56'><b>static</b> <b>int</b> <a href='../S/276.html#L242' title='Refered from 242 in deps/lua/src/lmathlib.c.'>math_tanh</a> (lua_State *L) <font color='red'>{</font>
<a name='L57'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, tanh(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L58'>  <b>return</b> 1;
<a name='L59'><font color='red'>}</font>
<a name='L60'>
<a name='L61'><b>static</b> <b>int</b> <a href='../S/276.html#L218' title='Refered from 218 in deps/lua/src/lmathlib.c.'>math_asin</a> (lua_State *L) <font color='red'>{</font>
<a name='L62'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, asin(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L63'>  <b>return</b> 1;
<a name='L64'><font color='red'>}</font>
<a name='L65'>
<a name='L66'><b>static</b> <b>int</b> <a href='../S/276.html#L217' title='Refered from 217 in deps/lua/src/lmathlib.c.'>math_acos</a> (lua_State *L) <font color='red'>{</font>
<a name='L67'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, acos(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L68'>  <b>return</b> 1;
<a name='L69'><font color='red'>}</font>
<a name='L70'>
<a name='L71'><b>static</b> <b>int</b> <a href='../S/276.html#L220' title='Refered from 220 in deps/lua/src/lmathlib.c.'>math_atan</a> (lua_State *L) <font color='red'>{</font>
<a name='L72'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, atan(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L73'>  <b>return</b> 1;
<a name='L74'><font color='red'>}</font>
<a name='L75'>
<a name='L76'><b>static</b> <b>int</b> <a href='../S/276.html#L219' title='Refered from 219 in deps/lua/src/lmathlib.c.'>math_atan2</a> (lua_State *L) <font color='red'>{</font>
<a name='L77'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, atan2(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1), <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 2)));
<a name='L78'>  <b>return</b> 1;
<a name='L79'><font color='red'>}</font>
<a name='L80'>
<a name='L81'><b>static</b> <b>int</b> <a href='../S/276.html#L221' title='Refered from 221 in deps/lua/src/lmathlib.c.'>math_ceil</a> (lua_State *L) <font color='red'>{</font>
<a name='L82'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, ceil(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L83'>  <b>return</b> 1;
<a name='L84'><font color='red'>}</font>
<a name='L85'>
<a name='L86'><b>static</b> <b>int</b> <a href='../S/276.html#L226' title='Refered from 226 in deps/lua/src/lmathlib.c.'>math_floor</a> (lua_State *L) <font color='red'>{</font>
<a name='L87'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, floor(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L88'>  <b>return</b> 1;
<a name='L89'><font color='red'>}</font>
<a name='L90'>
<a name='L91'><b>static</b> <b>int</b> <a href='../S/276.html#L227' title='Refered from 227 in deps/lua/src/lmathlib.c.'>math_fmod</a> (lua_State *L) <font color='red'>{</font>
<a name='L92'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, fmod(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1), <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 2)));
<a name='L93'>  <b>return</b> 1;
<a name='L94'><font color='red'>}</font>
<a name='L95'>
<a name='L96'><b>static</b> <b>int</b> <a href='../S/276.html#L234' title='Refered from 234 in deps/lua/src/lmathlib.c.'>math_modf</a> (lua_State *L) <font color='red'>{</font>
<a name='L97'>  <b>double</b> ip;
<a name='L98'>  <b>double</b> fp = modf(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1), &amp;ip);
<a name='L99'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, ip);
<a name='L100'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, fp);
<a name='L101'>  <b>return</b> 2;
<a name='L102'><font color='red'>}</font>
<a name='L103'>
<a name='L104'><b>static</b> <b>int</b> <a href='../S/276.html#L241' title='Refered from 241 in deps/lua/src/lmathlib.c.'>math_sqrt</a> (lua_State *L) <font color='red'>{</font>
<a name='L105'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, sqrt(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L106'>  <b>return</b> 1;
<a name='L107'><font color='red'>}</font>
<a name='L108'>
<a name='L109'><b>static</b> <b>int</b> <a href='../S/276.html#L235' title='Refered from 235 in deps/lua/src/lmathlib.c.'>math_pow</a> (lua_State *L) <font color='red'>{</font>
<a name='L110'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, pow(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1), <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 2)));
<a name='L111'>  <b>return</b> 1;
<a name='L112'><font color='red'>}</font>
<a name='L113'>
<a name='L114'><b>static</b> <b>int</b> <a href='../S/276.html#L231' title='Refered from 231 in deps/lua/src/lmathlib.c.'>math_log</a> (lua_State *L) <font color='red'>{</font>
<a name='L115'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, log(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L116'>  <b>return</b> 1;
<a name='L117'><font color='red'>}</font>
<a name='L118'>
<a name='L119'><b>static</b> <b>int</b> <a href='../S/276.html#L230' title='Refered from 230 in deps/lua/src/lmathlib.c.'>math_log10</a> (lua_State *L) <font color='red'>{</font>
<a name='L120'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, log10(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L121'>  <b>return</b> 1;
<a name='L122'><font color='red'>}</font>
<a name='L123'>
<a name='L124'><b>static</b> <b>int</b> <a href='../S/276.html#L225' title='Refered from 225 in deps/lua/src/lmathlib.c.'>math_exp</a> (lua_State *L) <font color='red'>{</font>
<a name='L125'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, exp(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)));
<a name='L126'>  <b>return</b> 1;
<a name='L127'><font color='red'>}</font>
<a name='L128'>
<a name='L129'><b>static</b> <b>int</b> <a href='../S/276.html#L224' title='Refered from 224 in deps/lua/src/lmathlib.c.'>math_deg</a> (lua_State *L) <font color='red'>{</font>
<a name='L130'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)/<a href='../S/276.html#L22' title='Defined at 22 in deps/lua/src/lmathlib.c.'>RADIANS_PER_DEGREE</a>);
<a name='L131'>  <b>return</b> 1;
<a name='L132'><font color='red'>}</font>
<a name='L133'>
<a name='L134'><b>static</b> <b>int</b> <a href='../S/276.html#L236' title='Refered from 236 in deps/lua/src/lmathlib.c.'>math_rad</a> (lua_State *L) <font color='red'>{</font>
<a name='L135'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1)*<a href='../S/276.html#L22' title='Defined at 22 in deps/lua/src/lmathlib.c.'>RADIANS_PER_DEGREE</a>);
<a name='L136'>  <b>return</b> 1;
<a name='L137'><font color='red'>}</font>
<a name='L138'>
<a name='L139'><b>static</b> <b>int</b> <a href='../S/276.html#L228' title='Refered from 228 in deps/lua/src/lmathlib.c.'>math_frexp</a> (lua_State *L) <font color='red'>{</font>
<a name='L140'>  <b>int</b> e;
<a name='L141'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, frexp(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1), &amp;e));
<a name='L142'>  <a href='../S/272.html#L437' title='Defined at 437 in deps/lua/src/lapi.c.'>lua_pushinteger</a>(L, e);
<a name='L143'>  <b>return</b> 2;
<a name='L144'><font color='red'>}</font>
<a name='L145'>
<a name='L146'><b>static</b> <b>int</b> <a href='../S/276.html#L229' title='Refered from 229 in deps/lua/src/lmathlib.c.'>math_ldexp</a> (lua_State *L) <font color='red'>{</font>
<a name='L147'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, ldexp(<a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1), <a href='../S/265.html#L104' title='Defined at 104 in deps/lua/src/lauxlib.h.'>luaL_checkint</a>(L, 2)));
<a name='L148'>  <b>return</b> 1;
<a name='L149'><font color='red'>}</font>
<a name='L150'>
<a name='L151'>
<a name='L152'>
<a name='L153'><b>static</b> <b>int</b> <a href='../S/276.html#L233' title='Refered from 233 in deps/lua/src/lmathlib.c.'>math_min</a> (lua_State *L) <font color='red'>{</font>
<a name='L154'>  <b>int</b> n = <a href='../S/272.html#L159' title='Defined at 159 in deps/lua/src/lapi.c.'>lua_gettop</a>(L);  <i><font color='green'>/* number of arguments */</font></i>
<a name='L155'>  <a href='../S/266.html#L99' title='Defined at 99 in deps/lua/src/lua.h.'>lua_Number</a> dmin = <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1);
<a name='L156'>  <b>int</b> i;
<a name='L157'>  <b>for</b> (i=2; i&lt;=n; i++) <font color='red'>{</font>
<a name='L158'>    <a href='../S/266.html#L99' title='Defined at 99 in deps/lua/src/lua.h.'>lua_Number</a> d = <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, i);
<a name='L159'>    <b>if</b> (d &lt; dmin)
<a name='L160'>      dmin = d;
<a name='L161'>  <font color='red'>}</font>
<a name='L162'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, dmin);
<a name='L163'>  <b>return</b> 1;
<a name='L164'><font color='red'>}</font>
<a name='L165'>
<a name='L166'>
<a name='L167'><b>static</b> <b>int</b> <a href='../S/276.html#L232' title='Refered from 232 in deps/lua/src/lmathlib.c.'>math_max</a> (lua_State *L) <font color='red'>{</font>
<a name='L168'>  <b>int</b> n = <a href='../S/272.html#L159' title='Defined at 159 in deps/lua/src/lapi.c.'>lua_gettop</a>(L);  <i><font color='green'>/* number of arguments */</font></i>
<a name='L169'>  <a href='../S/266.html#L99' title='Defined at 99 in deps/lua/src/lua.h.'>lua_Number</a> dmax = <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, 1);
<a name='L170'>  <b>int</b> i;
<a name='L171'>  <b>for</b> (i=2; i&lt;=n; i++) <font color='red'>{</font>
<a name='L172'>    <a href='../S/266.html#L99' title='Defined at 99 in deps/lua/src/lua.h.'>lua_Number</a> d = <a href='../S/260.html#L176' title='Defined at 176 in deps/lua/src/lauxlib.c.'>luaL_checknumber</a>(L, i);
<a name='L173'>    <b>if</b> (d &gt; dmax)
<a name='L174'>      dmax = d;
<a name='L175'>  <font color='red'>}</font>
<a name='L176'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, dmax);
<a name='L177'>  <b>return</b> 1;
<a name='L178'><font color='red'>}</font>
<a name='L179'>
<a name='L180'>
<a name='L181'><b>static</b> <b>int</b> <a href='../S/276.html#L237' title='Refered from 237 in deps/lua/src/lmathlib.c.'>math_random</a> (lua_State *L) <font color='red'>{</font>
<a name='L182'>  <i><font color='green'>/* the `%' avoids the (rare) case of r==1, and is needed also because on</font></i>
<a name='L183'><i><font color='green'>     some systems (SunOS!) `rand()' may return a value larger than RAND_MAX */</font></i>
<a name='L184'>  <a href='../S/266.html#L99' title='Defined at 99 in deps/lua/src/lua.h.'>lua_Number</a> r = (<a href='../S/266.html#L99' title='Defined at 99 in deps/lua/src/lua.h.'>lua_Number</a>)(rand()%RAND_MAX) / (<a href='../S/266.html#L99' title='Defined at 99 in deps/lua/src/lua.h.'>lua_Number</a>)RAND_MAX;
<a name='L185'>  <b>switch</b> (<a href='../S/272.html#L159' title='Defined at 159 in deps/lua/src/lapi.c.'>lua_gettop</a>(L)) <font color='red'>{</font>  <i><font color='green'>/* check number of arguments */</font></i>
<a name='L186'>    <b>case</b> 0: <font color='red'>{</font>  <i><font color='green'>/* no arguments */</font></i>
<a name='L187'>      <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, r);  <i><font color='green'>/* Number between 0 and 1 */</font></i>
<a name='L188'>      <b>break</b>;
<a name='L189'>    <font color='red'>}</font>
<a name='L190'>    <b>case</b> 1: <font color='red'>{</font>  <i><font color='green'>/* only upper limit */</font></i>
<a name='L191'>      <b>int</b> u = <a href='../S/265.html#L104' title='Defined at 104 in deps/lua/src/lauxlib.h.'>luaL_checkint</a>(L, 1);
<a name='L192'>      <a href='../S/265.html#L100' title='Defined at 100 in deps/lua/src/lauxlib.h.'>luaL_argcheck</a>(L, 1&lt;=u, 1, "interval is empty");
<a name='L193'>      <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, floor(r*u)+1);  <i><font color='green'>/* int between 1 and `u' */</font></i>
<a name='L194'>      <b>break</b>;
<a name='L195'>    <font color='red'>}</font>
<a name='L196'>    <b>case</b> 2: <font color='red'>{</font>  <i><font color='green'>/* lower and upper limits */</font></i>
<a name='L197'>      <b>int</b> l = <a href='../S/265.html#L104' title='Defined at 104 in deps/lua/src/lauxlib.h.'>luaL_checkint</a>(L, 1);
<a name='L198'>      <b>int</b> u = <a href='../S/265.html#L104' title='Defined at 104 in deps/lua/src/lauxlib.h.'>luaL_checkint</a>(L, 2);
<a name='L199'>      <a href='../S/265.html#L100' title='Defined at 100 in deps/lua/src/lauxlib.h.'>luaL_argcheck</a>(L, l&lt;=u, 2, "interval is empty");
<a name='L200'>      <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, floor(r*(u-l+1))+l);  <i><font color='green'>/* int between `l' and `u' */</font></i>
<a name='L201'>      <b>break</b>;
<a name='L202'>    <font color='red'>}</font>
<a name='L203'>    <b>default</b>: <b>return</b> <a href='../S/260.html#L86' title='Defined at 86 in deps/lua/src/lauxlib.c.'>luaL_error</a>(L, "wrong number of arguments");
<a name='L204'>  <font color='red'>}</font>
<a name='L205'>  <b>return</b> 1;
<a name='L206'><font color='red'>}</font>
<a name='L207'>
<a name='L208'>
<a name='L209'><b>static</b> <b>int</b> <a href='../S/276.html#L238' title='Refered from 238 in deps/lua/src/lmathlib.c.'>math_randomseed</a> (lua_State *L) <font color='red'>{</font>
<a name='L210'>  srand(<a href='../S/265.html#L104' title='Defined at 104 in deps/lua/src/lauxlib.h.'>luaL_checkint</a>(L, 1));
<a name='L211'>  <b>return</b> 0;
<a name='L212'><font color='red'>}</font>
<a name='L213'>
<a name='L214'>
<a name='L215'><b>static</b> <b>const</b> <a href='../D/2952.html' title='Multiple defined in 2 places.'>luaL_Reg</a> mathlib[] = <font color='red'>{</font>
<a name='L216'>  <font color='red'>{</font>"abs",   <a href='../S/276.html#L26' title='Defined at 26 in deps/lua/src/lmathlib.c.'>math_abs</a><font color='red'>}</font>,
<a name='L217'>  <font color='red'>{</font>"acos",  <a href='../S/276.html#L66' title='Defined at 66 in deps/lua/src/lmathlib.c.'>math_acos</a><font color='red'>}</font>,
<a name='L218'>  <font color='red'>{</font>"asin",  <a href='../S/276.html#L61' title='Defined at 61 in deps/lua/src/lmathlib.c.'>math_asin</a><font color='red'>}</font>,
<a name='L219'>  <font color='red'>{</font>"atan2", <a href='../S/276.html#L76' title='Defined at 76 in deps/lua/src/lmathlib.c.'>math_atan2</a><font color='red'>}</font>,
<a name='L220'>  <font color='red'>{</font>"atan",  <a href='../S/276.html#L71' title='Defined at 71 in deps/lua/src/lmathlib.c.'>math_atan</a><font color='red'>}</font>,
<a name='L221'>  <font color='red'>{</font>"ceil",  <a href='../S/276.html#L81' title='Defined at 81 in deps/lua/src/lmathlib.c.'>math_ceil</a><font color='red'>}</font>,
<a name='L222'>  <font color='red'>{</font>"cosh",   <a href='../S/276.html#L46' title='Defined at 46 in deps/lua/src/lmathlib.c.'>math_cosh</a><font color='red'>}</font>,
<a name='L223'>  <font color='red'>{</font>"cos",   <a href='../S/276.html#L41' title='Defined at 41 in deps/lua/src/lmathlib.c.'>math_cos</a><font color='red'>}</font>,
<a name='L224'>  <font color='red'>{</font>"deg",   <a href='../S/276.html#L129' title='Defined at 129 in deps/lua/src/lmathlib.c.'>math_deg</a><font color='red'>}</font>,
<a name='L225'>  <font color='red'>{</font>"exp",   <a href='../S/276.html#L124' title='Defined at 124 in deps/lua/src/lmathlib.c.'>math_exp</a><font color='red'>}</font>,
<a name='L226'>  <font color='red'>{</font>"floor", <a href='../S/276.html#L86' title='Defined at 86 in deps/lua/src/lmathlib.c.'>math_floor</a><font color='red'>}</font>,
<a name='L227'>  <font color='red'>{</font>"fmod",   <a href='../S/276.html#L91' title='Defined at 91 in deps/lua/src/lmathlib.c.'>math_fmod</a><font color='red'>}</font>,
<a name='L228'>  <font color='red'>{</font>"frexp", <a href='../S/276.html#L139' title='Defined at 139 in deps/lua/src/lmathlib.c.'>math_frexp</a><font color='red'>}</font>,
<a name='L229'>  <font color='red'>{</font>"ldexp", <a href='../S/276.html#L146' title='Defined at 146 in deps/lua/src/lmathlib.c.'>math_ldexp</a><font color='red'>}</font>,
<a name='L230'>  <font color='red'>{</font>"log10", <a href='../S/276.html#L119' title='Defined at 119 in deps/lua/src/lmathlib.c.'>math_log10</a><font color='red'>}</font>,
<a name='L231'>  <font color='red'>{</font>"log",   <a href='../S/276.html#L114' title='Defined at 114 in deps/lua/src/lmathlib.c.'>math_log</a><font color='red'>}</font>,
<a name='L232'>  <font color='red'>{</font>"max",   <a href='../S/276.html#L167' title='Defined at 167 in deps/lua/src/lmathlib.c.'>math_max</a><font color='red'>}</font>,
<a name='L233'>  <font color='red'>{</font>"min",   <a href='../S/276.html#L153' title='Defined at 153 in deps/lua/src/lmathlib.c.'>math_min</a><font color='red'>}</font>,
<a name='L234'>  <font color='red'>{</font>"modf",   <a href='../S/276.html#L96' title='Defined at 96 in deps/lua/src/lmathlib.c.'>math_modf</a><font color='red'>}</font>,
<a name='L235'>  <font color='red'>{</font>"pow",   <a href='../S/276.html#L109' title='Defined at 109 in deps/lua/src/lmathlib.c.'>math_pow</a><font color='red'>}</font>,
<a name='L236'>  <font color='red'>{</font>"rad",   <a href='../S/276.html#L134' title='Defined at 134 in deps/lua/src/lmathlib.c.'>math_rad</a><font color='red'>}</font>,
<a name='L237'>  <font color='red'>{</font>"random",     <a href='../S/276.html#L181' title='Defined at 181 in deps/lua/src/lmathlib.c.'>math_random</a><font color='red'>}</font>,
<a name='L238'>  <font color='red'>{</font>"randomseed", <a href='../S/276.html#L209' title='Defined at 209 in deps/lua/src/lmathlib.c.'>math_randomseed</a><font color='red'>}</font>,
<a name='L239'>  <font color='red'>{</font>"sinh",   <a href='../S/276.html#L36' title='Defined at 36 in deps/lua/src/lmathlib.c.'>math_sinh</a><font color='red'>}</font>,
<a name='L240'>  <font color='red'>{</font>"sin",   <a href='../S/276.html#L31' title='Defined at 31 in deps/lua/src/lmathlib.c.'>math_sin</a><font color='red'>}</font>,
<a name='L241'>  <font color='red'>{</font>"sqrt",  <a href='../S/276.html#L104' title='Defined at 104 in deps/lua/src/lmathlib.c.'>math_sqrt</a><font color='red'>}</font>,
<a name='L242'>  <font color='red'>{</font>"tanh",   <a href='../S/276.html#L56' title='Defined at 56 in deps/lua/src/lmathlib.c.'>math_tanh</a><font color='red'>}</font>,
<a name='L243'>  <font color='red'>{</font>"tan",   <a href='../S/276.html#L51' title='Defined at 51 in deps/lua/src/lmathlib.c.'>math_tan</a><font color='red'>}</font>,
<a name='L244'>  <font color='red'>{</font>NULL, NULL<font color='red'>}</font>
<a name='L245'><font color='red'>}</font>;
<a name='L246'>
<a name='L247'>
<a name='L248'><i><font color='green'>/*</font></i>
<a name='L249'><i><font color='green'>** Open math library</font></i>
<a name='L250'><i><font color='green'>*/</font></i>
<a name='L251'><a href='../S/317.html#L169' title='Defined at 169 in deps/lua/src/luaconf.h.'>LUALIB_API</a> <b>int</b> <a href='../R/2901.html' title='Multiple refered from 3 places.'>luaopen_math</a> (lua_State *L) <font color='red'>{</font>
<a name='L252'>  luaL_register(L, <a href='../S/267.html#L33' title='Defined at 33 in deps/lua/src/lualib.h.'>LUA_MATHLIBNAME</a>, mathlib);
<a name='L253'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, <a href='../D/607.html' title='Multiple defined in 2 places.'>PI</a>);
<a name='L254'>  <a href='../S/272.html#L657' title='Defined at 657 in deps/lua/src/lapi.c.'>lua_setfield</a>(L, -2, "pi");
<a name='L255'>  <a href='../S/272.html#L429' title='Defined at 429 in deps/lua/src/lapi.c.'>lua_pushnumber</a>(L, HUGE_VAL);
<a name='L256'>  <a href='../S/272.html#L657' title='Defined at 657 in deps/lua/src/lapi.c.'>lua_setfield</a>(L, -2, "huge");
<a name='L257'><font color='darkred'>#if</font> <b>defined</b>(<a href='../S/317.html#L343' title='Defined at 343 in deps/lua/src/luaconf.h.'>LUA_COMPAT_MOD</a>)
<a name='L258'>  <a href='../S/272.html#L544' title='Defined at 544 in deps/lua/src/lapi.c.'>lua_getfield</a>(L, -1, "fmod");
<a name='L259'>  <a href='../S/272.html#L657' title='Defined at 657 in deps/lua/src/lapi.c.'>lua_setfield</a>(L, -2, "mod");
<a name='L260'><font color='darkred'>#endif</font>
<a name='L261'>  <b>return</b> 1;
<a name='L262'><font color='red'>}</font>
<a name='L263'>
</pre>
<hr>
<a name='BOTTOM'>
<i><font color='green'>/* [&lt;][&gt;]<a href='#L26'>[^]</a><a href='#L251'>[v]</a><a href='#TOP'>[top]</a>[bottom]<a href='../mains.html'>[index]</a><a href='../help.html'>[help]</a> */</font></i>
</body>
</html>
